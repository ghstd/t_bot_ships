generator client {
   provider = "prisma-client-js"
}

datasource db {
   provider = "postgresql"
   url      = env("POSTGRES_PRISMA_URL")
}

//=========================

model User {
   id         Int     @id @default(autoincrement())
   telegramID Int     @unique
   name       String
   player     Player?
}

model Player {
   id          Int     @id @default(autoincrement())
   ready       Boolean
   playerField String
   targetField String
   user        User    @relation(fields: [userId], references: [id])
   userId      Int     @unique
   sessions    Session @relation(fields: [sessionId], references: [id])
   sessionId   Int
}

model Session {
   id         Int      @id @default(autoincrement())
   movesCount Int      @default(1)
   players    Player[]
}
